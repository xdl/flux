!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.flux=e():t.flux=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(t){return t.slice("translate(".length,-1).split(",").map(parseFloat)},i=function(t){return t&&t.startsWith("matrix")?function(t){var e,n,r,i,a,o,l,c,u,s,f,d,h,g,p=Math.sqrt,b=Math.atan2;return i=(t[0]+t[3])/2,a=(t[0]-t[3])/2,o=(t[2]+t[1])/2,s=(c=p(i*i+(l=(t[2]-t[1])/2)*l))+(u=p(a*a+o*o)),f=c-u,d=b(o,a),g=((h=b(l,i))+d)/2,r=180*-((h-d)/2)/Math.PI,n=[s,f],e=180*-g/Math.PI,{translate:[t[4],t[5]],rotate:e,scale:n,skew:r}}(t.slice("matrix(".length,-1).split(",").map(parseFloat)):t&&t.startsWith("translate")?{translate:r(t),rotate:0,scale:[1,1],skew:0}:{translate:[0,0],rotate:0,scale:[1,1],skew:0}},a="http://www.w3.org/2000/svg",o=function(t){for(var e=0;e<t.children.length;e++){var n=t.children[e];if("title"===n.tagName)return n.innerHTML}return null},l=function(t,e){for(var n={},r=function(t,n){var r=function(t){var e=t.getAttribute("transform");if(e)return e.trim().split("\n").map((function(t){return t.trim()}));t.getAttribute("x"),t.getAttribute("y");return["translate(".concat(0,",",0,")")]}(t);1!==r.length&&console.info("TODO: examine assumption on getting the translation offset for the child of DisplayObject");var a=i(r[0]).translate;return c(u(t,r.slice(1),name,a[0],a[1]),e)},a=[t];a.length>0;)for(var l=a.pop(),s=0;s<l.children.length;s++){var f=l.children[s],d=o(f);if(d){var h=r(f);n[d]=h}f.hasAttribute("replicant")||a.push(f)}return n},c=function(t,e){for(var n=l(t._node,e),r=0,i=Object.keys(n);r<i.length;r++){var a=n[i[r]];t._children.push(a)}return Object.assign(t,n)},u=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=[],o=!1,l=function(){t.style.cursor=o?"pointer":"default"},c=function(){var n="translate(".concat(r,", ").concat(i,")");t.setAttribute("transform","\n      ".concat(n,"\n      ").concat(e.join(""),"\n    "))};return c(),Object.assign({_node:t,_children:a,_name:n,get x(){return r},set x(t){r=t,c()},get y(){return i},set y(t){i=t,c()},get width(){return t.getBBox().width},get height(){return t.getBBox().height},get buttonMode(){return o},set buttonMode(e){(o=e)?t.setAttribute("buttonMode",!0):t.removeAttribute("buttonMode"),l()},addEventListener:function(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.addEventListener(e,(function(t){t.stopPropagation(),n()}))},removeChild:function(e){var n=a.indexOf(e);n>-1&&(a.splice(n,1),t.removeChild(e._node))},addChild:function(e){-1===a.indexOf(e)&&(a.push(e),t.appendChild(e._node))}})},s=function(t,e,n){return function(t,e){var n=function(t){var e=t.cloneNode(!0);return a(e),e},r=function(t,r){var a=r.getAttribute("transform"),o=i(a),l=r.getAttribute("xlink:href").slice(1),c=e.getElementById(l),u=n(c),s=i(u.getAttribute("transform"));if(u.setAttribute("transform","\n      translate(".concat(o.translate[0],",").concat(o.translate[1],")\n      scale(").concat(o.scale[0],",").concat(o.scale[1],")\n      translate(").concat(s.translate[0],",").concat(s.translate[1],")\n      scale(").concat(s.scale[0],",").concat(s.scale[1],")\n    ")),u.setAttribute("replicant",!0),r.children[0]&&"title"===r.children[0].tagName){var f=r.children[0];u.appendChild(f)}t.replaceChild(u,r)},a=function t(e){for(var n=0;n<e.children.length;n++){var i=e.children[n];t(i),"use"===i.tagName&&r(e,i)}};return n(t)}(t,n)},f=function(t){var e=document.createElementNS(a,"rect");return e.style.opacity=1,e.style.fill="#000000",e.setAttribute("width",t.getAttribute("width")),e.setAttribute("height",t.getAttribute("height")),e.setAttribute("x",0),e.setAttribute("y",0),e},d=function(t,e){for(var n=function(t){var e=t.getAttribute("viewBox"),n=t.getAttribute("width"),r=t.getAttribute("height"),i=document.createElementNS(a,"svg");return i.setAttributeNS(null,"viewBox",e),i.setAttributeNS(null,"width",n),i.setAttributeNS(null,"height",r),i}(e),r=0;r<e.children.length;r++){var i=e.children[r];if("defs"===i.tagName){var l=i.cloneNode(!0);n.appendChild(l)}}t.appendChild(n);var f,d,h,g,p=function(t){for(var e={},n=0;n<t.children.length;n++)if("g"===t.children[n].tagName)for(var r=function(r){var i=t.children[n].children[r],a=o(i);if(a){var l=i.getBBox();e[a]=function(){var e=s(i,0,t),n=["translate(".concat(-l.x,", ").concat(-l.y,")")];return c(u(e,n,a),a)}}},i=0;i<t.children[n].children.length;i++)r(i);return e}(e);return{stage:(f=u(n,[],"stage"),d=!0,h=function(t,e){return function(){t.removeChild(e)}},g=function(){for(var t,e,n,r=[f._node];r.length>0;)for(var i=r.pop(),o=0;o<i.children.length;o++){var l=i.children[o];if(l.getAttribute("buttonMode")){var c=(t=l.getBBox(),e=l.getAttribute("transform"),n=void 0,(n=document.createElementNS(a,"rect")).style.opacity=1,n.style.fill="#851422",n.style.stroke="#431422",n.style["stroke-width"]=.5,n.style["fill-opacity"]=.7,n.style["stroke-opacity"]=.7,n.setAttribute("width",t.width),n.setAttribute("height",t.height),n.setAttribute("x",t.x),n.setAttribute("y",t.y),n.setAttribute("class","fadey"),n.setAttribute("transform",e),n);i.appendChild(c),window.setTimeout(h(i,c),600)}r.push(l)}},f.addEventListener("click",g),Object.assign(f,{_showClickableAreas:g,get enableHints(){return d},set enableHints(t){d=t}})),library:p}};e.default={version:"0.0.1",init:function(t,e,n){var r=e.contentDocument.firstElementChild;if(!document.getElementById("flux-0.0.1-keyframe")){var i=document.createElement("style");i.id="flux-0.0.1-keyframe",i.type="text/css";var a="\n      .".concat("fadey"," {\n        animation: fadeInOut ").concat(.6,"s ease-out forwards;\n      }\n      @keyframes fadeInOut {\n        0%, 100% { opacity: 0; }\n        50% { opacity: 1; }\n      }");i.innerHTML=a,document.getElementsByTagName("head")[0].appendChild(i)}var o=d(t,r),l=o.stage;return n(l,o.library,{showClickableAreas:l._showClickableAreas,stageRect:u(f(r),[],"stageRect")})}}}]).default}));