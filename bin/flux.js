!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.flux=e():t.flux=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r="http://www.w3.org/2000/svg",a=n(1),i=a.decomposeTransformAttribute,o=(a.calculateNodeTranslation,a.getTransformAttributeStringList),u=a.parseTranslateAttribute,c=function(t){for(var e=0;e<t.children.length;e++){var n=t.children[e];if("title"===n.tagName)return n.innerHTML}return null},l=function(t,e){for(var n,r,a,i={},l=[t];l.length>0;)for(var f=l.pop(),h=0;h<f.children.length;h++){var g=f.children[h],p=c(g);if(p){var b=(r=void 0,a=void 0,r=o(n=g),a=u(r[0]),s(d(n,r.slice(1),name,a[0],a[1]),e));i[p]=b}g.hasAttribute("replicant")||l.push(g)}return i},s=function(t,e){for(var n=l(t._node,e),r=0,a=Object.keys(n);r<a.length;r++){var i=n[a[r]];t._children.push(i)}return Object.assign(t,n)},d=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=[],o=!1,u=function(){t.style.cursor=o?"pointer":"default"},c=function(){var n="translate(".concat(r,", ").concat(a,")");t.setAttribute("transform","\n      ".concat(n,"\n      ").concat(e.join(""),"\n    "))};return c(),Object.assign({_node:t,_children:i,_name:n,get x(){return r},set x(t){r=t,c()},get y(){return a},set y(t){a=t,c()},get width(){return t.getBBox().width},get height(){return t.getBBox().height},get buttonMode(){return o},set buttonMode(e){(o=e)?t.setAttribute("buttonMode",!0):t.removeAttribute("buttonMode"),u()},addEventListener:function(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.addEventListener(e,(function(t){t.stopPropagation(),n()}))},removeChild:function(e){var n=i.indexOf(e);n>-1&&(i.splice(n,1),t.removeChild(e._node))},addChild:function(e){-1===i.indexOf(e)&&(i.push(e),t.appendChild(e._node))}})},f=function(t,e,n){return function(t,e){var n=function(t){var e=t.cloneNode(!0);return a(e),e},r=function(t,r){var a=r.getAttribute("transform"),o=i(a),u=r.getAttribute("xlink:href").slice(1),c=e.getElementById(u),l=n(c),s=i(l.getAttribute("transform"));if(l.setAttribute("transform","\n      translate(".concat(o.translate[0],",").concat(o.translate[1],")\n      scale(").concat(o.scale[0],",").concat(o.scale[1],")\n      translate(").concat(s.translate[0],",").concat(s.translate[1],")\n      scale(").concat(s.scale[0],",").concat(s.scale[1],")\n    ")),l.setAttribute("replicant",!0),r.children[0]&&"title"===r.children[0].tagName){var d=r.children[0];l.appendChild(d)}t.replaceChild(l,r)},a=function t(e){for(var n=0;n<e.children.length;n++){var a=e.children[n];t(a),"use"===a.tagName&&r(e,a)}};return n(t)}(t,n)},h=function(t,e){for(var n=function(t){var e=t.getAttribute("viewBox"),n=t.getAttribute("width"),a=t.getAttribute("height"),i=document.createElementNS(r,"svg");return i.setAttributeNS(null,"viewBox",e),i.setAttributeNS(null,"width",n),i.setAttributeNS(null,"height",a),i}(e),a=0;a<e.children.length;a++){var i=e.children[a];if("defs"===i.tagName){var o=i.cloneNode(!0);n.appendChild(o)}}t.appendChild(n);var u,l,h,g,p=function(t){for(var e={},n=0;n<t.children.length;n++)if("g"===t.children[n].tagName)for(var r=function(r){var a=t.children[n].children[r],i=c(a);if(i){var o=a.getBBox();e[i]=function(){var e=f(a,0,t),n=["translate(".concat(-o.x,", ").concat(-o.y,")")];return s(d(e,n,i),i)}}},a=0;a<t.children[n].children.length;a++)r(a);return e}(e);return{stage:(u=d(n,[],"stage"),l=!0,h=function(t,e){return function(){t.removeChild(e)}},g=function(){for(var t,e,n,a=[u._node];a.length>0;)for(var i=a.pop(),o=0;o<i.children.length;o++){var c=i.children[o];if(c.getAttribute("buttonMode")){var l=(t=c.getBBox(),e=c.getAttribute("transform"),n=void 0,(n=document.createElementNS(r,"rect")).style.opacity=1,n.style.fill="#851422",n.style.stroke="#431422",n.style["stroke-width"]=.5,n.style["fill-opacity"]=.7,n.style["stroke-opacity"]=.7,n.setAttribute("width",t.width),n.setAttribute("height",t.height),n.setAttribute("x",t.x),n.setAttribute("y",t.y),n.setAttribute("class","fadey"),n.setAttribute("transform",e),n);i.appendChild(l),window.setTimeout(h(i,l),600)}a.push(c)}},u.addEventListener("click",g),Object.assign(u,{_showClickableAreas:g,get enableHints(){return l},set enableHints(t){l=t}})),library:p}};e.default={version:"0.0.1",init:function(t,e,n){var r=e.contentDocument.firstElementChild,a=document.createElement("style");a.type="text/css";var i="\n      .".concat("fadey"," {\n        animation: fadeInOut ").concat(.6,"s ease-out forwards;\n      }\n      @keyframes fadeInOut {\n        0%, 100% { opacity: 0; }\n        50% { opacity: 1; }\n      }");a.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(a);var o=h(t,r),u=o.stage;return n(u,o.library,{showClickableAreas:u._showClickableAreas})}}},function(t,e,n){"use strict";n.r(e),n.d(e,"parseTranslateAttribute",(function(){return r})),n.d(e,"decomposeTransformAttribute",(function(){return a})),n.d(e,"calculateNodeTranslation",(function(){return i})),n.d(e,"getTransformAttributeStringList",(function(){return o}));var r=function(t){return t.slice("translate(".length,-1).split(",").map(parseFloat)},a=function(t){return t&&t.startsWith("matrix")?function(t){var e,n,r,a,i,o,u,c,l,s,d,f,h,g,p=Math.sqrt,b=Math.atan2;return a=(t[0]+t[3])/2,i=(t[0]-t[3])/2,o=(t[2]+t[1])/2,s=(c=p(a*a+(u=(t[2]-t[1])/2)*u))+(l=p(i*i+o*o)),d=c-l,f=b(o,i),g=((h=b(u,a))+f)/2,r=180*-((h-f)/2)/Math.PI,n=[s,d],e=180*-g/Math.PI,{translate:[t[4],t[5]],rotate:e,scale:n,skew:r}}(t.slice("matrix(".length,-1).split(",").map(parseFloat)):t&&t.startsWith("translate")?{translate:r(t),rotate:0,scale:[1,1],skew:0}:{translate:[0,0],rotate:0,scale:[1,1],skew:0}},i=function(t){var e=t.getAttribute("transform");return e&&e.startsWith("translate")?r(e):[0,0]},o=function(t){var e=t.getAttribute("transform");if(e)return e.trim().split("\n").map((function(t){return t.trim()}));t.getAttribute("x"),t.getAttribute("y");return["translate(".concat(0,",",0,")")]}}]).default}));